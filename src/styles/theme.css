/* ============================================================
   KIVAW THEME TOKENS (single source of truth) + SYSTEM UI FONT
============================================================ */

:root {
  /* Font */
  --font: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";

  /* ========== TEXT COLORS (Ink-based, no blue) ========== */
  --ink: #1a1a1a;
  --ink-muted: #4a4a4a;
  --ink-tertiary: #6a6a6a;
  --link: #1a1a1a;

  /* Legacy text vars */
  --text: var(--ink);
  --text2: var(--ink-muted);
  --muted: var(--ink-tertiary);
  --soft: rgba(47, 52, 64, 0.75);
  --text-soft: rgba(47, 52, 64, 0.70);

  /* ========== BACKGROUNDS ========== */
  --bg: #EDE8E3;
  --bg-gradient:
    radial-gradient(ellipse 80% 50% at 50% 0%, rgba(255, 107, 157, 0.08) 0%, transparent 50%),
    radial-gradient(ellipse 80% 50% at 50% 100%, rgba(255, 142, 83, 0.05) 0%, transparent 50%),
    radial-gradient(ellipse 60% 50% at 0% 50%, rgba(192, 132, 252, 0.04) 0%, transparent 50%),
    var(--bg);

  /* Alias for older coral styles */
  --coral-bg-gradient: var(--bg-gradient);

  --bg2: #f8f9fa;
  --bg-glow: rgba(230, 225, 255, 0.03);

  /* ========== SURFACES ========== */
  --surface: rgba(255, 255, 255, 0.95);
  --surface-2: rgba(250, 248, 255, 0.40);
  --surface-3: rgba(230, 225, 255, 0.20);

  --card: var(--surface);
  --cardSolid: #ffffff;

  /* ========== BORDERS ========== */
  --border: rgba(0, 0, 0, 0.04);
  --border-strong: rgba(0, 0, 0, 0.08);
  --border-gold: rgba(230, 225, 255, 0.20);

  /* ========== SHADOWS ========== */
  --shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
  --shadow-soft: 0 1px 4px rgba(0, 0, 0, 0.02);
  --shadow2: 0 2px 6px rgba(0, 0, 0, 0.03);

  /* ========== ACCENTS ========== */
  --accent: rgba(230, 225, 255, 0.40);
  --accent-2: rgba(230, 225, 255, 0.60);
  --accent-ink: var(--ink);

  --gold: #e9c261;
  --gold-light: #f0d17a;
  --gold-dark: #d4a84f;

  --accentText: var(--ink);
  --accentTextDark: var(--ink);

  /* ========== PILLS/TAGS ========== */
  --pillBg: rgba(255, 255, 255, 0.72);
  --pillBorder: rgba(32, 45, 74, 0.12);

  /* ========== FOCUS ========== */
  --focus: rgba(230, 225, 255, 0.30);
  --focus-blue: rgba(230, 225, 255, 0.20);

  /* ========== NAV ========== */
  --nav-bg: rgba(255, 255, 255, 0.95);
  --nav-border: rgba(0, 0, 0, 0.04);

  /* ========== CONTROLS ========== */
  --control-bg: rgba(255, 255, 255, 0.75);
  --control-ring: rgba(230, 225, 255, 0.20);

  /* ========== BUTTONS ========== */
  --btn-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
  --btn-shadow-gold: 0 2px 8px rgba(230, 225, 255, 0.20);

  /* ========== RADIUS ========== */
  --radius: 20px;
  --radius2: 16px;
  --r-lg: 18px;
  --r-xl: 24px;

  --max: 1100px;

  /* whites */
  --white: rgba(255, 255, 255, 1);
  --white-90: rgba(255, 255, 255, 0.90);
  --white-85: rgba(255, 255, 255, 0.85);
  --white-82: rgba(255, 255, 255, 0.82);
  --white-80: rgba(255, 255, 255, 0.80);
  --white-78: rgba(255, 255, 255, 0.78);
  --white-75: rgba(255, 255, 255, 0.75);
  --white-72: rgba(255, 255, 255, 0.72);
  --white-70: rgba(255, 255, 255, 0.70);
  --white-65: rgba(255, 255, 255, 0.65);
  --white-60: rgba(255, 255, 255, 0.60);
  --white-55: rgba(255, 255, 255, 0.55);
}

/* ========== DARK MODE ========== */
:root[data-theme="dark"] {
  --ink: #E8E6E1;
  --ink-muted: #B8B5AD;
  --ink-tertiary: #8B8880;
  --link: #E8E6E1;

  --text: var(--ink);
  --text2: var(--ink-muted);
  --muted: var(--ink-tertiary);
  --soft: rgba(232, 230, 225, 0.85);
  --text-soft: rgba(232, 230, 225, 0.80);

  /* ========== BACKGROUNDS (Dark mode overrides) ========== */
  --bg: #0F0F12;
  --bg-gradient:
    radial-gradient(ellipse 80% 50% at 50% 0%, rgba(255, 107, 157, 0.15) 0%, transparent 50%),
    radial-gradient(ellipse 80% 50% at 50% 100%, rgba(255, 142, 83, 0.10) 0%, transparent 50%),
    radial-gradient(ellipse 60% 50% at 0% 50%, rgba(192, 132, 252, 0.08) 0%, transparent 50%),
    var(--bg);

  --coral-bg-gradient: var(--bg-gradient);

  --bg2: #1F2026;
  --bg-glow: rgba(230, 225, 255, 0.05);

  /* ========== SURFACES (Dark mode overrides) ========== */
  --surface: rgba(32, 33, 40, 0.95);
  --surface-2: rgba(40, 41, 48, 0.60);
  --surface-3: rgba(230, 225, 255, 0.12);

  --card: var(--surface);
  --cardSolid: rgba(32, 33, 40, 0.98);

  /* ========== BORDERS (Dark mode overrides) ========== */
  --border: rgba(232, 230, 225, 0.08);
  --border-strong: rgba(232, 230, 225, 0.15);
  --border-gold: rgba(230, 225, 255, 0.25);

  /* ========== SHADOWS (Dark mode overrides) ========== */
  --shadow: 0 4px 16px rgba(0, 0, 0, 0.30);
  --shadow-soft: 0 2px 8px rgba(0, 0, 0, 0.20);
  --shadow2: 0 6px 20px rgba(0, 0, 0, 0.35);

  /* ========== ACCENTS (Dark mode overrides) ========== */
  --accent: rgba(230, 225, 255, 0.25);
  --accent-2: rgba(230, 225, 255, 0.35);
  --accent-ink: var(--ink);

  --accentText: var(--ink);
  --accentTextDark: var(--ink);

  /* ========== PILLS/TAGS (Dark mode overrides) ========== */
  --pillBg: rgba(32, 33, 40, 0.80);
  --pillBorder: rgba(232, 230, 225, 0.15);

  /* ========== FOCUS (Dark mode overrides) ========== */
  --focus: rgba(230, 225, 255, 0.30);
  --focus-blue: rgba(230, 225, 255, 0.25);

  /* ========== NAV (Dark mode overrides) ========== */
  --nav-bg: rgba(26, 27, 32, 0.95);
  --nav-border: rgba(232, 230, 225, 0.10);

  /* ========== CONTROLS (Dark mode overrides) ========== */
  --control-bg: rgba(32, 33, 40, 0.80);
  --control-ring: rgba(230, 225, 255, 0.25);

  /* ========== BUTTONS (Dark mode overrides) ========== */
  --btn-shadow: 0 4px 16px rgba(0, 0, 0, 0.40);
  --btn-shadow-gold: 0 4px 16px rgba(230, 225, 255, 0.20);

  /* dark whites */
  --white: rgba(32, 33, 40, 0.95);
  --white-90: rgba(32, 33, 40, 0.90);
  --white-85: rgba(32, 33, 40, 0.85);
  --white-82: rgba(32, 33, 40, 0.82);
  --white-80: rgba(32, 33, 40, 0.80);
  --white-78: rgba(32, 33, 40, 0.78);
  --white-75: rgba(32, 33, 40, 0.75);
  --white-72: rgba(32, 33, 40, 0.72);
  --white-70: rgba(32, 33, 40, 0.70);
  --white-65: rgba(32, 33, 40, 0.65);
  --white-60: rgba(32, 33, 40, 0.60);
  --white-55: rgba(32, 33, 40, 0.55);
}

/* ========== GLOBAL FONTS ========== */
html, body, #root {
  font-family: var(--font);
}

button, input, textarea, select, a {
  font-family: inherit;
}

/* ========== GLOBAL BACKGROUND ========== */
html, body {
  height: 100%;
  min-height: 100vh;
  background: var(--bg-gradient);
}

/* IMPORTANT: allow overlays to sit behind content */
body {
  position: relative;
}

/* ========== GRAIN OVERLAY (body::before - covers EVERYTHING) ========== */
body::before {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 1;

  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='1.2' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.8'/%3E%3C/svg%3E");
  background-size: 200px 200px;
  background-repeat: repeat;

  opacity: 0.15;
  mix-blend-mode: overlay;
}

:root[data-theme="light"] body::before {
  opacity: 0.12;
  mix-blend-mode: multiply;
}

/* ========== SUBTLE RED TINT OVERLAY (body::after - behind grain, lighter than before) ========== */
body::after {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  background: rgba(255, 107, 157, 0.02);
  mix-blend-mode: multiply;
}

:root[data-theme="dark"] body::after {
  background: rgba(255, 107, 157, 0.025);
}

/* ========== CONTENT LAYERING ========== */
#root {
  position: relative;
  z-index: 5;
}
